=== ATOMIC VAULT ENFORCE SIM ===
Scenario 1 — Baseline default policy (atomicUnit = 1)
---
vault VAULT-TEST-0: OK value=0
vault VAULT-TEST-1: OK value=1
vault VAULT-TEST-10: OK value=10
TOTAL: OK value=11
=== ATOMIC VAULT ENFORCE SIM ===
Scenario 2 — Negative vault balance
---
   VAULT-NEGATIVE: ERROR kind=NEGATIVE message=Atomic amount must not be negative value=-5 atomicUnit=1
  assertVaultAmountAtomic threw: [AtomicVaultInvariant:NEGATIVE] VAULT-NEGATIVE violated atomic policy (value=-5, atomicUnit=1)
=== ATOMIC VAULT ENFORCE SIM ===
Scenario 3 — Coarser atomicUnit (10n)
---
   VAULT-ATOMIC-OK: OK value=20
   VAULT-NON-ATOMIC: ERROR kind=NON_ATOMIC message=Amount is not an exact multiple of the atomic unit value=21 atomicUnit=10
vault VAULT-A: OK value=10
vault VAULT-B: ERROR kind=NON_ATOMIC message=Amount is not an exact multiple of the atomic unit value=15 atomicUnit=10
TOTAL (coarse policy): ERROR kind=NON_ATOMIC message=Amount is not an exact multiple of the atomic unit value=25 atomicUnit=10
=== ATOMIC VAULT ENFORCE SIM COMPLETE ===
